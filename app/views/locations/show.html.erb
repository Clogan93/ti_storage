<%= render partial: 'common/breadcrumbs', locals: {
  links: [
    link_to('Locations', locations_path), 
    @storage.title
  ]
} %>

<main id="locations_show_page">
  <div class="container-fluid">

    <div class="mobile_ad hidden-lg-up">
      <%= image_tag 'locations/show/labor-sale.svg' %>
    </div>

    <div class="row">
      <div class="col-xs-12">
        <h1 class="standard_page_heading">Reserve Your Space Today!</h1>
      </div>
    </div>

    <%= render partial: 'common/search_field_and_ad' %>

    <%= render partial: 'common/storage_view', locals: { storage: @storage } %>

    <section class="extensive_information">

      <% tab_ids = [:storage_units, :features, :directions, :videos, :reviews] %>

      <ul class="hidden-lg-down tab_navigation nav nav-tabs">
        <% tab_ids.each do |tab_id| %>
          <li class="nav-item">
            <a href="#<%= tab_id %>" class="<%= tab_id == :storage_units ? 'active' : '' %> nav-link" data-toggle="tab">
              <%= tab_id.to_s.titleize %>
            </a>
          </li>
        <% end %>
      </ul>

      <div class="hidden-xl-up mobile_tab_navigation">
        <div class="row">
          <div class="col-sm-6 tab_chooser">
            <!-- .dropdown positions dropdown content lower than button -->
            <div class="dropdown">
              <div class="lable">Select...</div>
              <div class="dropdown-toggle" data-toggle="dropdown">
                <%= tab_ids[0].to_s.titleize %>
              </div>

              <div class="dropdown-menu">
                <!-- ul > li > a structure is necessary for controlling tabs -->
                <ul>
                  <% tab_ids.each do |tab_id| %>
                    <li class="nav-item">
                      <a href="#<%= tab_id %>"
                         data-toggle="tab"
                         class="dropdown-item">
                        <%= tab_id.to_s.titleize %>
                      </a>
                    </li>
                  <% end %>
                </ul>
              </div>
            </div>
          </div>

          <div class="col-sm-6 size_chooser">
            <div class="dropdown">
              <div class="lable">Select Size</div>
              <div class="dropdown-toggle" data-toggle="dropdown">
                All Units
              </div>

              <div class="dropdown-menu">
                <% ["All Units", "Small", "Medium", "Large", "X-Large"].each do |tab_title| %>
                    <a class="dropdown-item">
                      <%= tab_title.titleize %>
                    </a>
                <% end %>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="tab-content">
        <article class="tab-pane active" id="storage_units">
          <%= render partial: 'locations/in_show/storage_units' %>
        </article>
        <article class="tab-pane" id="features">
          <ul>
            <% @storage.features.each do |feature| %>
              <li><%= feature %></li>
            <% end %>
          </ul>
        </article>
        <article class="tab-pane" id="directions">
          <%= @storage.directions.html_safe %>
        </article>
        <div class="tab-pane" id="videos">...</div>
        <article class="tab-pane" id="reviews">
          <% @storage.reviews.each do |review| %>
            <%= review.comment %><br>
          <% end %>
        </article>
      </div>
    </section>

    <section class="description">
      <h5>Treasure Island Storage <%= @storage.title %></h5>
      <%= @storage.description.html_safe %>
    </section>

  </div>
</main>
